{"ast":null,"code":"import \"core-js/modules/es.object.set-prototype-of.js\";\nimport \"core-js/modules/es.object.create.js\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { BaseComponentWrapper } from 'ag-grid-community';\nimport { VueComponentFactory } from './VueComponentFactory';\n\nvar VueFrameworkComponentWrapper =\n/** @class */\nfunction (_super) {\n  __extends(VueFrameworkComponentWrapper, _super);\n\n  function VueFrameworkComponentWrapper(parent) {\n    var _this = _super.call(this) || this;\n\n    _this.parent = parent;\n    return _this;\n  }\n\n  VueFrameworkComponentWrapper.prototype.createWrapper = function (component) {\n    var that = this;\n\n    var DynamicComponent =\n    /** @class */\n    function (_super) {\n      __extends(DynamicComponent, _super);\n\n      function DynamicComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n      }\n\n      DynamicComponent.prototype.init = function (params) {\n        _super.prototype.init.call(this, params);\n      };\n\n      DynamicComponent.prototype.hasMethod = function (name) {\n        return wrapper.getFrameworkComponentInstance()[name] != null;\n      };\n\n      DynamicComponent.prototype.callMethod = function (name, args) {\n        var componentInstance = this.getFrameworkComponentInstance();\n        var frameworkComponentInstance = wrapper.getFrameworkComponentInstance();\n        return frameworkComponentInstance[name].apply(componentInstance, args);\n      };\n\n      DynamicComponent.prototype.addMethod = function (name, callback) {\n        wrapper[name] = callback;\n      };\n\n      DynamicComponent.prototype.overrideProcessing = function (methodName) {\n        return that.parent.autoParamsRefresh && methodName === 'refresh';\n      };\n\n      DynamicComponent.prototype.processMethod = function (methodName, args) {\n        if (methodName === 'refresh') {\n          this.getFrameworkComponentInstance().params = args[0];\n        }\n\n        if (this.hasMethod(methodName)) {\n          return this.callMethod(methodName, args);\n        }\n\n        return methodName === 'refresh';\n      };\n\n      DynamicComponent.prototype.createComponent = function (params) {\n        return that.createComponent(component, params);\n      };\n\n      return DynamicComponent;\n    }(VueComponent);\n\n    var wrapper = new DynamicComponent();\n    return wrapper;\n  };\n\n  VueFrameworkComponentWrapper.prototype.createComponent = function (component, params) {\n    return VueComponentFactory.createAndMountComponent(component, params, this.parent);\n  };\n\n  VueFrameworkComponentWrapper.prototype.createMethodProxy = function (wrapper, methodName, mandatory) {\n    return function () {\n      if (wrapper.overrideProcessing(methodName)) {\n        return wrapper.processMethod(methodName, arguments);\n      }\n\n      if (wrapper.hasMethod(methodName)) {\n        return wrapper.callMethod(methodName, arguments);\n      }\n\n      if (mandatory) {\n        console.warn('AG Grid: Framework component is missing the method ' + methodName + '()');\n      }\n\n      return null;\n    };\n  };\n\n  VueFrameworkComponentWrapper.prototype.destroy = function () {\n    this.parent = null;\n  };\n\n  return VueFrameworkComponentWrapper;\n}(BaseComponentWrapper);\n\nexport { VueFrameworkComponentWrapper };\n\nvar VueComponent =\n/** @class */\nfunction () {\n  function VueComponent() {}\n\n  VueComponent.prototype.getGui = function () {\n    return this.element;\n  };\n\n  VueComponent.prototype.destroy = function () {\n    if (this.getFrameworkComponentInstance() && typeof this.getFrameworkComponentInstance().destroy === 'function') {\n      this.getFrameworkComponentInstance().destroy();\n    }\n\n    this.unmount();\n  };\n\n  VueComponent.prototype.getFrameworkComponentInstance = function () {\n    return this.componentInstance;\n  };\n\n  VueComponent.prototype.init = function (params) {\n    var _a = this.createComponent(params),\n        componentInstance = _a.componentInstance,\n        element = _a.element,\n        unmount = _a.destroy;\n\n    this.componentInstance = componentInstance;\n    this.unmount = unmount; // the element is the parent div we're forced to created when dynamically creating vnodes\n    // the first child is the user supplied component\n\n    this.element = element.firstElementChild;\n  };\n\n  return VueComponent;\n}();","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,oBAAT,QAAyD,mBAAzD;AACA,SAASC,mBAAT,QAAoC,uBAApC;;AAQA;AAAA;AAAA;EAAkDC;;EAG9C,sCAAYC,MAAZ,EAAuB;IAAvB,YACIC,qBAAO,IADX;;IAGIC,KAAI,CAACF,MAAL,GAAcA,MAAd;;EACH;;EAEMG,uDAAP,UAAqBC,SAArB,EAAmC;IAC/B,IAAMC,IAAI,GAAG,IAAb;;IAEA;IAAA;IAAA;MAA+BN;;MAA/B;;MAsCC;;MArCUO,kCAAP,UAAYC,MAAZ,EAAuB;QACnBN,iBAAMO,IAAN,CAAUC,IAAV,CAAU,IAAV,EAAWF,MAAX;MACH,CAFM;;MAIAD,uCAAP,UAAiBI,IAAjB,EAA6B;QACzB,OAAOC,OAAO,CAACC,6BAAR,GAAwCF,IAAxC,KAAiD,IAAxD;MACH,CAFM;;MAIAJ,wCAAP,UAAkBI,IAAlB,EAAgCG,IAAhC,EAAgD;QAC5C,IAAMC,iBAAiB,GAAG,KAAKF,6BAAL,EAA1B;QACA,IAAMG,0BAA0B,GAAGJ,OAAO,CAACC,6BAAR,EAAnC;QACA,OAAOG,0BAA0B,CAACL,IAAD,CAA1B,CAAiCM,KAAjC,CAAuCF,iBAAvC,EAA0DD,IAA1D,CAAP;MACH,CAJM;;MAMAP,uCAAP,UAAiBI,IAAjB,EAA+BO,QAA/B,EAAkD;QAC7CN,OAAe,CAACD,IAAD,CAAf,GAAwBO,QAAxB;MACJ,CAFM;;MAIAX,gDAAP,UAA0BY,UAA1B,EAA4C;QACxC,OAAOb,IAAI,CAACL,MAAL,CAAamB,iBAAb,IAAkCD,UAAU,KAAK,SAAxD;MACH,CAFM;;MAIAZ,2CAAP,UAAqBY,UAArB,EAAyCL,IAAzC,EAAyD;QACrD,IAAIK,UAAU,KAAK,SAAnB,EAA8B;UAC1B,KAAKN,6BAAL,GAAqCL,MAArC,GAA8CM,IAAI,CAAC,CAAD,CAAlD;QACH;;QAED,IAAI,KAAKO,SAAL,CAAeF,UAAf,CAAJ,EAAgC;UAC5B,OAAO,KAAKG,UAAL,CAAgBH,UAAhB,EAA4BL,IAA5B,CAAP;QACH;;QAED,OAAOK,UAAU,KAAK,SAAtB;MACH,CAVM;;MAYGZ,6CAAV,UAA0BC,MAA1B,EAAqC;QACjC,OAAOF,IAAI,CAACiB,eAAL,CAAqBlB,SAArB,EAAgCG,MAAhC,CAAP;MACH,CAFS;;MAGd;IAAC,CAtCD,CAA+BgB,YAA/B;;IAwCA,IAAMZ,OAAO,GAAG,IAAIL,gBAAJ,EAAhB;IACA,OAAOK,OAAP;EACH,CA7CM;;EA+CAR,yDAAP,UAA0BC,SAA1B,EAA0CG,MAA1C,EAAqD;IACjD,OAAOT,mBAAmB,CAAC0B,uBAApB,CAA4CpB,SAA5C,EAAuDG,MAAvD,EAA+D,KAAKP,MAApE,CAAP;EACH,CAFM;;EAIGG,2DAAV,UAA4BQ,OAA5B,EAA4DO,UAA5D,EAAgFO,SAAhF,EAAkG;IAC9F,OAAO;MACH,IAAId,OAAO,CAACe,kBAAR,CAA2BR,UAA3B,CAAJ,EAA4C;QACxC,OAAOP,OAAO,CAACgB,aAAR,CAAsBT,UAAtB,EAAkCU,SAAlC,CAAP;MACH;;MAED,IAAIjB,OAAO,CAACS,SAAR,CAAkBF,UAAlB,CAAJ,EAAmC;QAC/B,OAAOP,OAAO,CAACU,UAAR,CAAmBH,UAAnB,EAA+BU,SAA/B,CAAP;MACH;;MAED,IAAIH,SAAJ,EAAe;QACXI,OAAO,CAACC,IAAR,CAAa,wDAAwDZ,UAAxD,GAAqE,IAAlF;MACH;;MACD,OAAO,IAAP;IACH,CAbD;EAcH,CAfS;;EAiBAf,iDAAV;IACI,KAAKH,MAAL,GAAc,IAAd;EACH,CAFS;;EAGd;AAAC,CAhFD,CAAkDH,oBAAlD;;;;AAkFA;AAAA;AAAA;EAAA,yBAgCC;;EA3BU0B,gCAAP;IACI,OAAO,KAAKQ,OAAZ;EACH,CAFM;;EAIAR,iCAAP;IACI,IAAI,KAAKX,6BAAL,MAAwC,OAAO,KAAKA,6BAAL,GAAqCoB,OAA5C,KAAwD,UAApG,EAAgH;MAC5G,KAAKpB,6BAAL,GAAqCoB,OAArC;IACH;;IACD,KAAKC,OAAL;EACH,CALM;;EAOAV,uDAAP;IACI,OAAO,KAAKT,iBAAZ;EACH,CAFM;;EAIGS,8BAAV,UAAehB,MAAf,EAAwB;IACd,SAAiD,KAAKe,eAAL,CAAqBf,MAArB,CAAjD;IAAA,IAACO,iBAAiB,uBAAlB;IAAA,IAAoBiB,OAAO,aAA3B;IAAA,IAAsCE,OAAO,aAA7C;;IAEN,KAAKnB,iBAAL,GAAyBA,iBAAzB;IACA,KAAKmB,OAAL,GAAeA,OAAf,CAJoB,CAMpB;IACA;;IACA,KAAKF,OAAL,GAAeA,OAAO,CAACG,iBAAvB;EACH,CATS;;EAYd;AAAC,CAhCD","names":["BaseComponentWrapper","VueComponentFactory","__extends","parent","_super","_this","VueFrameworkComponentWrapper","component","that","DynamicComponent","params","init","call","name","wrapper","getFrameworkComponentInstance","args","componentInstance","frameworkComponentInstance","apply","callback","methodName","autoParamsRefresh","hasMethod","callMethod","createComponent","VueComponent","createAndMountComponent","mandatory","overrideProcessing","processMethod","arguments","console","warn","element","destroy","unmount","firstElementChild"],"sourceRoot":"","sources":["../src/VueFrameworkComponentWrapper.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}